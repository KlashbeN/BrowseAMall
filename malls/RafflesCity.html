<!DOCTYPE html>
<html>
<head>
<title> Browse A Mall - Raffles City</title>
<link rel="stylesheet" type = "text/css" href = "/templates/css/mall-style.css">
<script src="../scripts/jquery.min.js"></script>
<script src = "rafflesShops.js"></script>
<script src = "../scripts/collapsibleinfo.js"></script>
<script type = "text/javascript" src = "../scripts/fullproof-all.js"></script>

<!-- Lasted compiled and minified CSS -->
<link rel="stylesheet" href = "/templates/css/normalize.css">
<link rel="stylesheet" href = "/templates/css/bootstrap.min.css">

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/scripts/bootstrap.min.js"></script>

<link rel="stylesheet" href = "/templates/css/menu-style.css">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<meta name="viewport" content = "width=device-width,initial-scale=1">
</head>

<body>
<div class="container">
  <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">Browse A Mall</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../aboutus.html">About</a></li>
              <li><a href="../contactus.html">Contact</a></li>
              <li class ="active"><a href="../browse.html">Malls</a></li>
              <li><a href="../forums/index.php">Forums</a></li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Parking Rates <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="../parking/northparking.html">North</a></li>
                  <li><a href="../parking/southparking.html">South</a></li>
                  <li><a href="../parking/eastparking.html">East</a></li>
                  <li><a href="../parking/westparking.html">West</a></li>
                  <li><a href="../parking/orchardparking.html">Orchard</a></li>
                </ul>
              </li>
            </ul>
         
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav> 


<div class="container-fluid">
<div id ="mallinfo">
<h2 style =" font-family:Cursive; font-size:200%;"> Raffles City</h2>

<img src="http://inside.capitaland.com/images/static/stories/articles/2011/aug11_01_raffles_city.jpg?sfvrsn=2" alt="RafflesCity" height ="300px" width:"400px" class="center-block img-responsive" >


<div class="row">
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
 
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne"> How to get there? </a>
      </h4>
    </div><!--panel-heading-->
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
        <p> 
            <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script><div style="overflow:hidden;height:450px;width:responsive;"><div id="gmap_canvas" style="height:450px;width:responsive;"></div><style>#gmap_canvas img{max-width:none!important;background:none!important}</style><a class="google-map-code" href="http://www.map-embed.com" id="get-map-data">http://www.map-embed.com</a></div><script type="text/javascript"> function init_map(){var myOptions = {zoom:17,center:new google.maps.LatLng(1.2941178,103.85281280000004),mapTypeId: google.maps.MapTypeId.ROADMAP};map = new google.maps.Map(document.getElementById("gmap_canvas"), myOptions);marker = new google.maps.Marker({map: map,position: new google.maps.LatLng(1.2941178, 103.85281280000004)});infowindow = new google.maps.InfoWindow({content:"<b>Raffles City</b><br/>252 North Bridge Road<br/>179103 Singapore" });google.maps.event.addListener(marker, "click", function(){infowindow.open(map,marker);});infowindow.open(map,marker);}google.maps.event.addDomListener(window, 'load', init_map);</script>
                                
<form action="http://maps.google.com/maps" method="get" target="_blank">
<p style = "margin-bottom = 10px; font-weight: bold;">Enter your starting address/Postal code :</p>
<input type="text" name="saddr" />
<input type="hidden" name="daddr" value="252 North Bridge Road, 179103" />
<input type="submit" value="Get Directions" />
</form>
       <p style ="margin-bottom: 10px ;">Click <a href="https://www.google.com.sg/maps/dir/1.2800945,103.8509491/Raffles+City,+252+North+Bridge+Road,+179103/@1.286119,103.8475367,16z/data=!3m1!4b1!4m10!4m9!1m1!4e1!1m5!1m1!1s0x31da19a6831a191f:0xcfcde1c1d52b371c!2m2!1d103.8532958!2d1.2938971!3e0"> here</a> for Raffles City location on Google Map</p>
       
       <p style = "font-weight: bold;"> Nearest MRT</p>
       <p style ="margin-bottom: 10px ;"> City Hall MRT (EW13/NS25) / Esplanade MRT (CC3, Exit G)</p>
       <p style = "font-weight: bold;"> Buses along Brash Basah Road</p>  
       <p> 14, 14E, 16, 36, 77, 106, 111, 128, 130, 131, 133, 162, 162M, 167, 171, 502, 502A, 518, 518A, 700, 700A, 850E, 857, 951E, 960  </p></p>
       <p style = "font-weight: bold;"> Buses along Stamford Road</p>
       <p> 7, 14, 14E, 16, 36, 77, 106, 111, 128, 131, 162, 162M, 167, 171, 175, 700, 700A, 850E, 857, 951E, 971E </p></p>
       <p style = "font-weight: bold;"> Buses along North Bridge Road</p>
       <p> 61, 124, 145, 166, 174, 174E, 197, NR1, NR2, NR5, NR6, NR7, NR8, 1N, 2N, 3N, 4N, 5N, 6N </p></p>
      </div><!--panel-body-->
    </div><!--collapseOne-->
  </div><!--panel-panel default-->
 
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"> About Raffles City </a>
      </h4>
    </div><!--panel-heading-->
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
      <p style = "font-weight: bold;">Address: </p>
      <p style ="margin-bottom: 10px ;">252 North Bridge Road, 179103</p>
      <p style = "font-weight: bold;"> Opening hours: </p>
      <p style ="margin-bottom: 10px ;"> 10am to 10pm Daily </p>
      <p style = "font-weight: bold;"> Contact </p>
      <p>63180238</p>
      
      </div> <!--panel-body-->
  </div><!--collapseTwo-->
  </div><!--panel panel-default-->
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree"> Shop Directory </a>
      </h4>
    </div> <!--panel-heading-->
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
         <div class="formbg">
            <div id="application">
                <div>
                   <input type="text" id="typehere" class="typebox">
                   <button id="search">Search!</button>
                </div>
           </div>
        </div>
       <div class="grid">
         <div id="results" style='width:80%; margin:5px auto;'></div>
       </div>
       <div id="debug"></div>
      </div>
    </div>
  </div>
  </div>
</div>
</div>
</div>
</div>

</div>
 
</div>
</div>




<script type="text/javascript">

    /**
     * The initializer is a function called by the engine when the index
     * is created for the first time. It provides an opportunity to populate
     * the index with its data.
     * @param {fullproof.TextInjector} injector an object of type fullproof.TextInjector
     * @param callback function function to call when the initialization is done
     */
    function initializer(injector, callback) {
        var synchro = fullproof.make_synchro_point(callback, rafflesShops.length);
        for (var i=0;i<rafflesShops.length; ++i) {
            var text = rafflesShops[i].name +" " + rafflesShops[i].unit + " " + rafflesShops[i].contact;
            injector.inject(text, i, synchro);
        }
    }

    /**
     * This function get called when the engine is done opening itself
     * @param b true if the engine was successfully open, false otherwise
     */
    function engineReady(b) {
        if (!b) {
            alert("Can't load the search engine!");
        }

    }

        $(document).ready(function() {
        var dbName = "rafflescity";
        var shopSearchEngine = new fullproof.BooleanEngine();

        var index1 = {
            name: "normalindex",
            analyzer: new fullproof.StandardAnalyzer(fullproof.normalizer.to_lowercase_nomark, fullproof.normalizer.remove_duplicate_letters),
            capabilities: new fullproof.Capabilities().setStoreObjects(false).setUseScores(false).setDbName(dbName).setDbSize(1*1024*1024),
            initializer: initializer
        };
        var index2 = {
            name: "stemmedindex",
            analyzer: new fullproof.StandardAnalyzer(fullproof.normalizer.to_lowercase_nomark, fullproof.english.metaphone),
            capabilities: new fullproof.Capabilities().setStoreObjects(false).setUseScores(false).setDbName(dbName).setDbSize(1*1024*1024),
            initializer: initializer
        };

        shopSearchEngine.open([index1, index2], fullproof.make_callback(engineReady, true), fullproof.make_callback(engineReady, false));

        /**
         * The seach function manages the terms lookup and result display
         */
        function search() {
            var value = $("#typehere").val();

            // Request a search to the shop engine, then displays the results, if any.
            shopSearchEngine.lookup(value, function(resultset) {
                var result ="";
                if (resultset && resultset.getSize()) {
                    var rsize = resultset.getSize();
                    //result = "<h3>Found " + rsize + " shops"+(rsize> 1 ? "s" : "")+" matching your request.</h3>";
                    result += "<table style='width:100%'><tr><th>Name</th><th>Unit</th><th>Contact</th></tr>";
                    resultset.forEach(function(e) {
                        var c = rafflesShops[e];
                        result += "<tr><td style='font-weight: bold;'>"+ c.name+"</td>";
                        result += "<td>"+ c.unit+"</td>";
                        result += "<td>"+ c.contact+"</td></tr>";
                    });
                    result += "</table>";
                } else {
                    result = "<h3>No result found :-(</h3>";
                }
                $("#results").html(result);
            });
        }

        // Bind the search action
        $("#search").click(search);
        $("#typehere").change(search);

    });</script>
  </div>
</body>
</html>
